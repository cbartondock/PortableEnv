# Use powerline
USE_POWERLINE="true"
# Source manjaro-zsh-configuration
if [[ -e /usr/share/zsh/manjaro-zsh-config ]]; then
  source /usr/share/zsh/manjaro-zsh-config
fi
# Use manjaro zsh prompt
if [[ -e /usr/share/zsh/manjaro-zsh-prompt ]]; then
  source /usr/share/zsh/manjaro-zsh-prompt
fi

# NVM
if [ -s "$HOME/.nvm/nvm.sh" ]; then
  export NVM_DIR="$HOME/.nvm"
  [ -s "$NVM_DIR/bash_completion" ] && . "$NVM_DIR/bash_completion"
  alias nvm='unalias nvm node npm && . "$NVM_DIR"/nvm.sh && nvm'
  alias node='unalias nvm node npm && . "$NVM_DIR"/nvm.sh && node'
  alias npm='unalias nvm node npm && . "$NVM_DIR"/nvm.sh && npm'
fi

# Auth aliases
alias authgit='ssh-add ~/.ssh/manjaro_rsa'

# SSH aliases
alias sshconf='sudo -E vim /etc/ssh/sshd_config'
alias sshstart='sudo service ssh start'
alias sshstop='sudo service ssh stop'
alias sshidentities='ssh-add -l'
alias sshagent='eval $(ssh-agent)'

# Vim aliases
alias xvim='vim -X' # Disable X11 Connection
alias svim='sudo -E vim'

# Respect the Local Vim
if [ -d "/usr/local/bin/vim" ]
then
	alias vim='/usr/local/bin/vim'
	alias xvim='/usr/local/bin/vim -X'
	alias svim='sudo -E /usr/local/bin/vim'
fi

# Other aliases
alias cd..='cd ..'
alias grep='grep --color=auto'
alias egrep='egrep --color=auto'
alias fgrep='fgrep --color=auto'
alias sizes='sudo du -sh *'

# Improved ls
zstyle ':completion:*:default' list-colors ${(s.:.)LS_COLORS}
if [ -z $LS_NATURAL ]
then
	export LS_NATURAL="/bin/ls"
fi
if [ "$OSTYPE" = "linux-gnu" ];
then
	export LS_COLORS="di=34:ln=35:so=32:ex=31:ow=34"
	alias ln="$LS_NATURAL --group-directories-first --color=tty"
else
	if type gls > /dev/null;
	then
		export LS_COLORS="di=34:ln=35:so=32:ex=31:ow=34"
		alias ln="gls --group-directories-first --color=tty"
	else
		export CLICOLOR=1
		export LSCOLORS=gxBxhxDxfxhxhxhxhxcxcx
		alias ln="$LS_NATURAL -G"
	fi
fi
alias la='ls -la | grep "^d" && ls -la | grep "^-" && ls -la | grep "^l"'

# Source the local specific config
if [ -f "$HOME/.zshlocal" ]
then
	source "$HOME/.zshlocal"
fi
